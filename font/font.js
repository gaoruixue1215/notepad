var $dlgFont=function(){var a=$('<div class="notepad-font"><div class="box"><div class="notepad-titlebar"><p class="title">字体</p><span class="close-btn" title="关闭">✖</span></div><div class="notepad-main"><div class="font-family"><p>字体(F):</p></div><div class="font-style"><p>字形(Y):</p></div><div class="font-size"><p>大小(S):</p></div><fieldset class="sample"><legend>示例</legend><p class="sample-txt">AaBbYyZz</p></fieldset><div class="script"><label>脚本(R):<br><select id="sel"><option value="西欧语言">西欧语言</option><option value="中文 GB2312">中文 GB2312</option></select></label></div><input class="btn-ok btn" type="button" value="确定"><input class="btn-cancel btn" type="button" value="取消"></div></div></div>'),c=["Agency FB","Algerian","Arial","Arial Rounded MT","Axure Handwriting","Bahnschrift","Baskerville Old Face","Bauhaus 93","Bell MT","Berlin Sans FB","Bernard MT","BlackAdder ITC"],f=["常规","斜体","粗体","粗偏斜体"],d=["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"],p={family:"Arial",style:"常规",size:"16",okHandler:null},r=a.find(".sample-txt"),v=a.find(".notepad-titlebar");return{init:function(t){$.extend(p,t),a.find(".box").draggable({handle:v}),$("body").append(a),$(".close-btn").click(function(){a.remove()}),$(".btn-ok").click(function(){var t={family:p.family,style:p.style,size:p.size};p.okHandler(t),a.remove()}),$(".btn-cancel").click(function(){a.remove()}),r.css({"font-family":p.family}),r.css({"font-size":p.size+"pt"});var e=$(".font-family").find(".notepad-list"),n=$(".font-style").find(".notepad-list"),l=$(".font-size").find(".notepad-list");0!==e.length&&e.remove(),0!==n.length&&n.remove(),0!==l.length&&l.remove();var i=new fontList,s=new fontList,o=new fontList;i.show({container:".font-family",width:"176px",list:c,select:p.family,fontFamily:!0,selectHandler:function(t){console.log(t),p.family=t,r.css({"font-family":t})}}),s.show({container:".font-style",width:"132px",list:f,select:p.style,fontStyle:!0,selectHandler:function(t){console.log(t),"常规"!==(p.style=t)?"斜体"!==t?"粗体"!==t?"粗偏斜体"!==t||r.css({"font-weight":"bold","font-style":"italic"}):r.css({"font-weight":"bold","font-style":""}):r.css({"font-style":"italic","font-weight":""}):r.css({"font-style":"","font-weight":""})}}),o.show({container:".font-size",width:"60px",list:d,select:p.size,fontSize:!0,selectHandler:function(t){console.log(t),p.size=t,r.css({"font-size":t+"pt"})}}),$("#sel").change(function(){var t=$("#sel").val();console.log(t),"西欧语言"==t?r.html("AaBbYyZz"):"中文 GB2312"==t&&r.html("微软中文软件")}),a.click(function(t){t.stopPropagation()})}}}();