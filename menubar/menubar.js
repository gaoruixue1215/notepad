var $menubar=function(){var r,o,h,p=$('<div class="notepad-menubar"></div>'),u=1;return{show:function(e,s){r=e,o=s,console.log(r),function(){$(o).append(p);var e=$('<ul class="menu-title"></ul>');p.append(e),console.log(r.length);for(var s=0;s<r.length;s++){var a=$('<li class="title">'+r[s].title+"</li>");a.attr("data-id",s),e.append(a);var t=$('<ul class="menus"></ul>');a.append(t),t.css({width:r[s].width,left:r[s].left,display:"none"});for(var i=r[s].menuItems,n=0;n<i.length;n++)if("hr"!==i[n].title){var l=$('<li class="menu-item">'+i[n].title+"</li>");if(l.attr("data-x",s),l.attr("data-y",n),""!==i[n].shortcut){var d=$('<span class="shortcut">'+i[n].shortcut+"</span>");l.append(d)}i[n].enabled||l.addClass("disabled"),t.append(l)}else{var c=$('<li class="menu-hr"></li>');t.append(c)}}$(".title").click(function(e){if(1===u){$(this).children().css({display:"inline-block"});var s=Number(this.dataset.id);h=s,u++}else{s=Number(this.dataset.id);h==s?($(this).children().css({display:"none"}),u--):($(this).children().css({display:"inline-block"}),h=s)}$(this).siblings().children().css({display:"none"}),e.stopPropagation()}),$(".menu-item").click(function(e){if(e.stopPropagation(),!$(this).hasClass("disabled")){var s=this.dataset.x,a=this.dataset.y;$(this).parent().css({display:"none"}),u--,r[s].menuItems[a].handler()}})}()},checked:function(e,s,a){var t=$(".title").eq(e).children("ul").find(".menu-item")[s];a?$(t).prepend($('<span class="checked">âœ“</span>')[0]):$(t).find(".checked").remove()},enabled:function(e,s,a){var t=$(".title").eq(e).children("ul").find(".menu-item")[s];a?$(t).removeClass("disabled"):$(t).addClass("disabled")}}}();